---
id: get-public-key
title: Getting public keys for JWT verification
hide_title: true
---

<!-- COPY DOCS -->
<!-- ./session/common-customizations/sessions/with-jwt/get-public-key.mdx -->

# Getting public keys for JWT verification

:::caution
Using JWTs is optional and is only required if you want to integrate with another service that relies on JWTs or if you wanted to integrate with a backend framework that we do not support yet
:::

## 1) Call the JWKS endpoint

SuperTokens uses RSA for signing JWTs, this means that in order to verify the JWT you need a public key. SuperTokens provides a JWKS endpoint that contains a set of public keys as Json Web Keys, refer to [this page](./get-jwks-and-issuer) to know how to get the URL for this endpoint.

You can make a `GET` request to this endpoint to get the JWKs.

## 2) Getting the JWK

Each JWT has a `kid` in its header, use this to retrieve the correct JWK. Note that SuperTokens supports only RSA based JWT signing algorithms.

A sample JWK:

```json
{
    "keys": [
        {
            "kty": "RSA",
            "kid": "1",
            "n": "0vx7agoebGcQSuuPiLJXZptN9...",
            "e": "AQAB",
            "alg": "RS256",
            "use": "sig",
        }
    ],
}
```

## 3) JWT verification

### Method 1) Using the JWKS endpoint directly

Some libraries and services allow you to provide the JWKS URL directly, the library/service would internally handle fetching JWKs and using them to verify the JWT signature.

For example for NodeJS you could use `jsonwebtoken` and `jwks-rsa` to verify JWTs using the jwks endpoint directly as explained in the example code in [their documentation](https://github.com/auth0/node-jsonwebtoken).

### Method 2) Using a key string

A JWK can also be converted into a key string. Some libraries and services may require you to provide a key string during JWT verification. For example in NodeJS [express-jwt](https://github.com/auth0/express-jwt) requires you to provide the secret.

Using key strings also allows you to have more control over which public key is being used for verification.

To use a key string, first query the JWKS endpoint to get the JWK to use (make sure that the `kid` in the JWT matches the `kid` in the JWK). You can then convert the JWK using a library (for example [jwk-to-pem](https://github.com/Brightspace/node-jwk-to-pem) for NodeJS), some languages also have built in cryptography functions that can be used (for example in Java you can generate a RSAPublicKey using the modulus `n` and exponent `e` from the JWK )