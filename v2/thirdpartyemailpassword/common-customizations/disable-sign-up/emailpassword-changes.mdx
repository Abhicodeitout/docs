---
id: emailpassword-changes
title: Changes to email password flow
hide_title: true
show_ui_switcher: true
---

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs"
import TabItem from '@theme/TabItem';
import {PreBuiltOrCustomUISwitcher, PreBuiltUIContent, CustomUIContent} from "/src/components/preBuiltOrCustomUISwitcher"
import FrontendPreBuiltUITabs from "/src/components/tabs/FrontendPreBuiltUITabs"


# Changes to email password flow

We start by disabling the public facing sign up API on the backend:

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import SuperTokens from "supertokens-node";
import ThirdPartyEmailPassword from "supertokens-node/recipe/thirdpartyemailpassword";

SuperTokens.init({
    appInfo: {
        apiDomain: "...",
        appName: "...",
        websiteDomain: "..."
    },
    supertokens: {
        connectionURI: "...",
    },
    recipeList: [
        ThirdPartyEmailPassword.init({
            override: {
                apis: (originalImplementation) => {
                    return {
                        ...originalImplementation,
                        // highlight-next-line
                        emailPasswordSignUpPOST: undefined,
                    }
                }
            }
        })
    ]
});
```

</TabItem>
<TabItem value="go">

```go
import (
	"github.com/supertokens/supertokens-golang/recipe/thirdpartyemailpassword"
	"github.com/supertokens/supertokens-golang/recipe/thirdpartyemailpassword/tpepmodels"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
	supertokens.Init(supertokens.TypeInput{
		RecipeList: []supertokens.Recipe{
			thirdpartyemailpassword.Init(&tpepmodels.TypeInput{
				Override: &tpepmodels.OverrideStruct{
					APIs: func(originalImplementation tpepmodels.APIInterface) tpepmodels.APIInterface {
                        // highlight-next-line
						originalImplementation.EmailPasswordSignUpPOST = nil
						return originalImplementation
					},
				},
			}),
		},
	})
}
```
</TabItem>
<TabItem value="python">

```python
from supertokens_python import init, InputAppInfo
from supertokens_python.recipe import thirdpartyemailpassword
from supertokens_python.recipe.thirdpartyemailpassword.interfaces import APIInterface

def apis_override(original_impl: APIInterface):
    # highlight-next-line
    original_impl.disable_emailpassword_sign_up_post = True
    return original_impl

init(
    app_info=InputAppInfo(api_domain="...", app_name="...", website_domain="..."),
    framework='...', # type: ignore
    recipe_list=[
        thirdpartyemailpassword.init(
            override=thirdpartyemailpassword.InputOverrideConfig(
                apis=apis_override
            ),
        )
    ]
)
```

</TabItem>
</BackendSDKTabs>

<PreBuiltOrCustomUISwitcher>

<PreBuiltUIContent>

The next step is to disable the sign up button on the sign in form. This can be done by using CSS to hide the sign up button:

<FrontendPreBuiltUITabs>

<TabItem value="reactjs">

```tsx
import SuperTokens from "supertokens-auth-react";
import ThirdPartyEmailPassword from "supertokens-auth-react/recipe/thirdpartyemailpassword";

SuperTokens.init({
    appInfo: {
        apiDomain: "...",
        appName: "...",
        websiteDomain: "..."
    },
    recipeList: [
        ThirdPartyEmailPassword.init({
            signInAndUpFeature: {
                style: {
                    "headerSubtitle": {
                        display: "none"
                    }
                },
                providers: [/* ... */],
            },
        }),
    ]
});
```

</TabItem>

<TabItem value="angular">

```tsx title="/app/auth/supertokensAuthComponent.tsx"
import SuperTokens from "supertokens-auth-react";
import ThirdPartyEmailPassword from "supertokens-auth-react/recipe/thirdpartyemailpassword";

SuperTokens.init({
    appInfo: {
        apiDomain: "...",
        appName: "...",
        websiteDomain: "..."
    },
    recipeList: [
        ThirdPartyEmailPassword.init({
            signInAndUpFeature: {
                style: {
                    "headerSubtitle": {
                        display: "none"
                    }
                },
                providers: [/* ... */],
            },
        }),
    ]
});
```

</TabItem>

<TabItem value="vue">

```tsx title="/components/Supertokens.tsx"
import SuperTokens from "supertokens-auth-react";
import ThirdPartyEmailPassword from "supertokens-auth-react/recipe/thirdpartyemailpassword";

SuperTokens.init({
    appInfo: {
        apiDomain: "...",
        appName: "...",
        websiteDomain: "..."
    },
    recipeList: [
        ThirdPartyEmailPassword.init({
            signInAndUpFeature: {
                style: {
                    "headerSubtitle": {
                        display: "none"
                    }
                },
                providers: [/* ... */],
            },
        }),
    ]
});
```

</TabItem>

</FrontendPreBuiltUITabs>

</PreBuiltUIContent>

<CustomUIContent />

</PreBuiltOrCustomUISwitcher>

To create email password users, you will need to make an API on your backend which will:
- Call the `emailPasswordSignUp` function from our backend SDK using that user's email and a fake password.
- Generate a password reset link and send that as an invite link to the user's email.

Once the user clicks the link, they will be shown a page asking them to input their password after which, they can login.

In order to create a user on the backend, we will use the same fake password across all users. We will also override the `emailPasswordSignIn` recipe function on the backend to make sure that if the input password is this fake password, then the sign in will be rejected.

TODO....