---
id: about
title: Enable email verification
hide_title: true
show_ui_switcher: true
---

<!-- COPY DOCS -->
<!-- ./thirdpartyemailpassword/common-customizations/email-verification/about.mdx -->

import {PreBuiltOrCustomUISwitcher, PreBuiltUIContent, CustomUIContent} from "/src/components/preBuiltOrCustomUISwitcher"

import {Question, Answer}from "/src/components/question"
import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import FrontendSDKTabs from "/src/components/tabs/FrontendSDKTabs";
import FrontendPreBuiltUITabs from "/src/components/tabs/FrontendPreBuiltUITabs";
import TabItem from "@theme/TabItem";
import NpmOrScriptTabs from "/src/components/tabs/NpmOrScriptTabs"
import AngularUIImplementation from "/src/components/reusableSnippets/angularUIImplementation"
import VueUIImplementation from "/src/components/reusableSnippets/vueUIImplementation"


<PreBuiltOrCustomUISwitcher>

<PreBuiltUIContent>

# Enable email verification

:::important
Email verification is turned off by default. It is strongly encouraged to enable it to ensure the authenticity of your users.
:::

There are two modes of email verification:

- `REQUIRED`: Requires that the user's email is verified before they can access your application's frontend or backend routes (that are protected with a session).
- `OPTIONAL`: Adds information about email verification into the session, but leaves it up to you to enforce it on the backend and frontend based on your business logic.


## Backend setup

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import SuperTokens from "supertokens-node";
import EmailVerification from "supertokens-node/recipe/emailverification";
import Session from "supertokens-node/recipe/session";

SuperTokens.init({
  appInfo: {
    apiDomain: "...",
    appName: "...",
    websiteDomain: "...",
  },
  recipeList: [
    // highlight-start
    EmailVerification.init({
      mode: "REQUIRED", // or "OPTIONAL"
    }),
    // highlight-end
    Session.init(),
  ],
});
```

</TabItem>
<TabItem value="go">

```go
import (
	"github.com/supertokens/supertokens-golang/recipe/emailverification"
	"github.com/supertokens/supertokens-golang/recipe/emailverification/evmodels"
	"github.com/supertokens/supertokens-golang/recipe/session"
	"github.com/supertokens/supertokens-golang/recipe/session/sessmodels"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
	supertokens.Init(supertokens.TypeInput{
		RecipeList: []supertokens.Recipe{
			// highlight-start
			emailverification.Init(evmodels.TypeInput{
				Mode: evmodels.ModeRequired, // or evmodels.ModeOptional
			}),
			// highlight-end
			session.Init(&sessmodels.TypeInput{}),
		},
	})
}
```

</TabItem>
<TabItem value="python">

```python
from supertokens_python import init, InputAppInfo
from supertokens_python.recipe import session
from supertokens_python.recipe import emailverification

init(
    app_info=InputAppInfo(
        api_domain="...", app_name="...", website_domain="..."),
    framework='...',  # type: ignore
    recipe_list=[
        # highlight-start
        emailverification.init(mode='REQUIRED'), # or 'OPTIONAL'
        # highlight-end
        session.init()
    ]
)
```

</TabItem>
</BackendSDKTabs>

## Frontend setup

<FrontendPreBuiltUITabs>
<TabItem value="reactjs">

```tsx
import SuperTokens from "supertokens-auth-react";
import EmailVerification from "supertokens-auth-react/recipe/emailverification";
import Session from "supertokens-auth-react/recipe/session";

SuperTokens.init({
  appInfo: {
    apiDomain: "...",
    appName: "...",
    websiteDomain: "...",
  },
  recipeList: [
    // highlight-start
    EmailVerification.init({
      mode: "REQUIRED", // or "OPTIONAL"
    }),
    // highlight-end
    Session.init(),
  ],
});
```

</TabItem>

</FrontendPreBuiltUITabs>

:::caution
SuperTokens will automatically trigger verification emails from the frontend when the mode is set to `REQUIRED` and the `SessionAuth` wrapper is used to protect your routes. If you have set the mode to `OPTIONAL` or are not using the `SessionAuth` wrapper, you will need to manually trigger the verification email by redirecting to the email verification path on your frontend.
:::

## (OPTIONAL) Redirecting to the email verification path to trigger the verification email verification  

If you are using the `SessionAuth` wrapper to protect your routes, SuperTokens will automatically send 

There are two methods to go about send the verification email:

#### 1. Redirect the user to the email verification path.

You can use SuperTokens pre-built component to trigger sending the verification email. This can be done by redirecting to the email verification path, which by default is `/auth/verify-email`.

#### 2. Manually call the API to send the verification email.

Alternatively you could call the function to [manually trigger the sending of the verification email](../../custom-ui/enable-email-verification#step-5-sending-the-email-verification-email) . This is suitable for cases where you are not using the SuperTokens pre-built UI. 

## The default UI (Pre built UI only)

When a new user signs up with an unverified email, they will receive an email to verify their address and be redirected to the following screen:

<img
  alt="Email verification UI when the link in email is not clicked"
  width="500px"
  src="/img/emailpassword/verify-email-screen.png"
/>

After they have clicked on the email, they will see this screen:

<img
  alt="Email verification UI once the link in email is clicked"
  width="500px"
  src="/img/emailpassword/email-verification-successful.png"
/>

When enabled, emailed verification has two modes:
- `REQUIRED`
- `OPTIONAL`


## The `REQUIRED` vs `OPTIONAL` modes

#### Mode set to `REQUIRED`

- On the backend: 
    - It adds info about if the email is verified or not in the session claims during session creation.
    - Calls to `verifySession()` or `getSession` will return an error if email verification is not completed.
- On the frontend:
    - If using React and using `<SessionAuth />` wrapper: It will redirect the user to the email verification page if the email verification check fails.
    - If not using React, or not using `<SessionAuth />`: You can check if the email verification claim is `true` and send the verification email or take action based on that.

#### Mode set to `OPTIONAL`

- On the backend: It adds info about if the email is verified or not in the session claims during session creation. 
- On the frontend:
    - If using React and using `<SessionAuth />` wrapper: It adds information about if email verification claim is `true` or not in the session context object. It's up to you to decide what to do in your routes based on this information.
    - If not using React, or not using `<SessionAuth />`: You can check if the email verification claim is `true` and send the verification email or take action based on that.

:::caution
If email verification mode is set to optional or you are not 
:::




</PreBuiltUIContent>

<CustomUIContent>

# Enable email verification

:::important
Email verification is turned off by default. It is strongly encouraged to enable it to ensure the authenticity of your users.
:::

There are two modes of email verification:
- `REQUIRED`
- `OPTIONAL`

When you enable this, you will need to provide the mode.

## The `REQUIRED` vs `OPTIONAL` modes

#### Mode set to `REQUIRED`

- On the backend: 
    - It adds info about if the email is verified or not in the session claims during session creation.
    - Calls to `verifySession()` or `getSession` will return an error if email verification is not completed.
- On the frontend:
    - If using React and using `<SessionAuth />` wrapper: It will redirect the user to the email verification page if the email verification check fails.
    - If not using React, or not using `<SessionAuth />`: You can check if the email verification claim is `true` and send the verification email or take action based on that.

#### Mode set to `OPTIONAL`

- On the backend: It adds info about if the email is verified or not in the session claims during session creation. 
- On the frontend:
    - If using React and using `<SessionAuth />` wrapper: It adds information about if email verification claim is `true` or not in the session context object. It's up to you to decide what to do in your routes based on this information.
    - If not using React, or not using `<SessionAuth />`: You can check if the email verification claim is `true` and send the verification email or take action based on that.

:::caution
If email verification mode is set to optional or you are not 
:::


## Backend setup

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import SuperTokens from "supertokens-node";
import EmailVerification from "supertokens-node/recipe/emailverification";
import Session from "supertokens-node/recipe/session";

SuperTokens.init({
  appInfo: {
    apiDomain: "...",
    appName: "...",
    websiteDomain: "...",
  },
  recipeList: [
    // highlight-start
    EmailVerification.init({
      mode: "REQUIRED",
    }),
    // highlight-end
    Session.init(),
  ],
});
```

</TabItem>
<TabItem value="go">

```go
import (
	"github.com/supertokens/supertokens-golang/recipe/emailverification"
	"github.com/supertokens/supertokens-golang/recipe/emailverification/evmodels"
	"github.com/supertokens/supertokens-golang/recipe/session"
	"github.com/supertokens/supertokens-golang/recipe/session/sessmodels"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
	supertokens.Init(supertokens.TypeInput{
		RecipeList: []supertokens.Recipe{
			// highlight-start
			emailverification.Init(evmodels.TypeInput{
				Mode: evmodels.ModeRequired,
			}),
			// highlight-end
			session.Init(&sessmodels.TypeInput{}),
		},
	})
}
```

</TabItem>
<TabItem value="python">

```python
from supertokens_python import init, InputAppInfo
from supertokens_python.recipe import session
from supertokens_python.recipe import emailverification

init(
    app_info=InputAppInfo(
        api_domain="...", app_name="...", website_domain="..."),
    framework='...',  # type: ignore
    recipe_list=[
        # highlight-start
        emailverification.init(mode='REQUIRED'),
        # highlight-end
        session.init()
    ]
)
```

</TabItem>
</BackendSDKTabs>

## Frontend setup

<FrontendSDKTabs>
<TabItem value="reactjs">

```tsx
import SuperTokens from "supertokens-auth-react";
import EmailVerification from "supertokens-auth-react/recipe/emailverification";
import Session from "supertokens-auth-react/recipe/session";

SuperTokens.init({
  appInfo: {
    apiDomain: "...",
    appName: "...",
    websiteDomain: "...",
  },
  recipeList: [
    // highlight-start
    EmailVerification.init({
      mode: "REQUIRED", // or "OPTIONAL"
    }),
    // highlight-end
    Session.init(),
  ],
});
```

</TabItem>

</FrontendSDKTabs>

## Sending the email to verify the user's email address

There are two methods to go about send the verification email:

#### 1. Redirect the user to the email verification path.

You can use SuperTokens pre-built component to trigger sending the verification email. This can be done by redirecting to the email verification path, which by default is `/auth/verify-email`.

#### 2. Manually call the API to send the verification email.

Alternatively you could call the function to [manually trigger the sending of the verification email](../../custom-ui/enable-email-verification#step-5-sending-the-email-verification-email) . This is suitable for cases where you are not using the SuperTokens pre-built UI. 

</CustomUIContent>

</PreBuiltOrCustomUISwitcher>
