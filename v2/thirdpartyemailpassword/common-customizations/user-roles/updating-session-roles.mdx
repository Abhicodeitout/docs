---
id: updating-session-roles
title: Updating roles in a session
hide_title: true
---

<!-- COPY DOCS -->
<!-- ./thirdpartyemailpassword/common-customizations/user-roles/updating-session-roles.mdx -->


import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs"
import TabItem from '@theme/TabItem';

# Updating roles in a session

This can only be done on the backend by using the `updateJWTPayload` function post session verification:

<BackendSDKTabs>
<TabItem value="nodejs">

```jsx
let Session = require("supertokens-node/recipe/session");

// highlight-next-line
app.post("/update-role", Session.verifySession(), async (req, res) => {
    let userId = req.session.getUserId();

    let role = "newRole"; // TODO: fetch based on user

    // Note that this will override any existing payload
    // that you may have provided earlier.
    // highlight-start
    await req.session.updateJWTPayload({
        role
    });
    // highlight-end

    //....
});
```
</TabItem>
</BackendSDKTabs>