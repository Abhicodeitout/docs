---
id: custom-method
title: Custom method
hide_title: true
---

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs"
import TabItem from '@theme/TabItem';

# Custom method

TODO

You can take full control of sending an email verification email by providing the `override` object in the `emailDelivery` config during `init` function call:

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import supertokens from "supertokens-node";
import ^{recipeNameCapitalLetters} from "supertokens-node/recipe/^{codeImportRecipeName}";
import Session from "supertokens-node/recipe/session";

supertokens.init({
    appInfo: {
        apiDomain: "...",
        appName: "...",
        websiteDomain: "..."
    },
    recipeList: [
        ^{recipeNameCapitalLetters}.init({
            ^{nodeRecipeInitDefault}
            // highlight-start
            emailDelivery: {
                override: (originalImplementation) => {
                    return {
                        ...originalImplementation,
                        sendEmail: async function (input) {
                            if (input.type === "EMAIL_VERIFICATION") {
                                let { user, emailVerifyLink } = input;
                                let { id, email } = user;
                                // TODO:
                            } else {
                                return originalImplementation.sendEmail(input);
                            }
                        }
                    }
                }
            },
            // highlight-end
        }),
        Session.init()
    ]
});
```
</TabItem>
<TabItem value="go">

```go

import (
    "fmt"

    "github.com/supertokens/supertokens-golang/ingredients/emaildelivery"
    "github.com/supertokens/supertokens-golang/recipe/^{codeImportRecipeName}"
    "github.com/supertokens/supertokens-golang/recipe/^{codeImportRecipeName}/^{goModelName}"
    "github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
    supertokens.Init(supertokens.TypeInput{
        RecipeList: []supertokens.Recipe{
            ^{codeImportRecipeName}.Init(^{goModelNameForInit}.TypeInput{
                ^{goRecipeInitDefault} // typecheck-only, removed from output
                // highlight-start
                EmailDelivery: &emaildelivery.TypeInput{
                    Override: func(originalImplementation emaildelivery.EmailDeliveryInterface) emaildelivery.EmailDeliveryInterface {
                        originalSendEmail := *originalImplementation.SendEmail

                        (*originalImplementation.SendEmail) = func(input emaildelivery.EmailType, userContext supertokens.UserContext) error {
                            if input.EmailVerification != nil {
                                emailVerifyLink := input.EmailVerification.EmailVerifyLink
                                email := input.EmailVerification.User.Email
                                userId := input.EmailVerification.User.ID
                                fmt.Println(emailVerifyLink)
                                fmt.Println(email)
                                fmt.Println(userId)
                                // TODO:
                                return nil
                            } else {
                                return originalSendEmail(input, userContext)
                            }
                        }

                        return originalImplementation
                    },
                },
                // highlight-end
            }),
        },
    })
}
```
</TabItem>
<TabItem value="python">

```python
from supertokens_python import init, InputAppInfo
from supertokens_python.recipe.^{codeImportRecipeName}.types import Type^{recipeNameCapitalLetters}EmailDeliveryInput
from supertokens_python.recipe import ^{codeImportRecipeName}
from typing import Dict, Any
from supertokens_python.recipe.emailverification.interfaces import TypeEmailVerificationEmailDeliveryInput
from supertokens_python.ingredients.emaildelivery.types import EmailDeliveryInterface, EmailDeliveryConfig

def custom_email_deliver(original_implementation: EmailDeliveryInterface[Type^{recipeNameCapitalLetters}EmailDeliveryInput]) -> EmailDeliveryInterface[Type^{recipeNameCapitalLetters}EmailDeliveryInput]:
    original_send_email = original_implementation.send_email

    async def send_email(input_: Type^{recipeNameCapitalLetters}EmailDeliveryInput, user_context: Dict[str, Any]) -> None:
        # highlight-start
        # pyright: reportUnnecessaryIsInstance=false
        if isinstance(input_, TypeEmailVerificationEmailDeliveryInput):
            _ = input_.email_verify_link
            __ = input_.user.email
            ___ = input_.user.id
            # TODO: send email...
        # highlight-end
        else:
            return await original_send_email(input_, user_context)

    original_implementation.send_email = send_email
    return original_implementation

^{pythonDefaultCallbackDefs} # typecheck-only, removed from output
init(
    app_info=InputAppInfo(api_domain="...", app_name="...", website_domain="..."),
    framework='...', # type: ignore
    recipe_list=[
        ^{codeImportRecipeName}.init(
            ^{pythonRecipeInitDefault} # typecheck-only, removed from output
            email_delivery=EmailDeliveryConfig(override=custom_email_deliver)
        )
    ]
)
```

</TabItem>
</BackendSDKTabs>

- You can get the user's email via the `user` object in the input param.
- Your email must direct the user to open the `emailVerifyLink` link. This link is a full URL, with the email verification token. It points to the email verification page on your website (`/auth/email-verify` by default).

:::important
When using this callback, you must manage sending the email yourself.
:::
