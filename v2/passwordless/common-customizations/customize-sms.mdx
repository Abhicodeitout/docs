---
id: customize-sms
title: Customising the SMS sent
hide_title: true
---

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import TabItem from "@theme/TabItem";

# Customising the SMS sent

## The default text messages

### OTP flow

```
Company Name - Login to your account

Use this one time password to validate your login: 824234
```

### Magic Link flow

```
Company Name - Login to your account

Click on this link to login to your account: 

https://your.app/auth/verify?rid=passwordless&preAuthSessionId=tv4N-8SHsKYBhdaHLq1KWZYJhwOtut_EPBiXhwy1F4Y#Yi9vzOcKx_kqSz5wmiKZ4NVkbh1UIWHs2BACp-eCRCw
```

### Both OTP and Magic Link flow

```
Company Name - Login to your account

Use this one time password to validate your login: 824234

OR

Click on this link: 
https://your.app/auth/verify?rid=passwordless&preAuthSessionId=tv4N-8SHsKYBhdaHLq1KWZYJhwOtut_EPBiXhwy1F4Y#Yi9vzOcKx_kqSz5wmiKZ4NVkbh1UIWHs2BACp-eCRCw
```

:::tip security
- Do not log / store the `userInputCode` or the `urlWithLinkCode`
- For production use, we recommend that you use the feature to send text messages yourself (see below section). This will make it easier for end-users to trust the message (since it's coming from you).
:::

## Send a custom text message

:::important
When using this callback, you must send the text message yourself.
:::

You can take full control of sending of the passwordless sign in/up text message by providing the `createAndSendCustomTextMessage` function during `init` function call:

- You can fully customize the text message including the sender.
- You can get the phone number from the `phoneNumber` parameter.
- If you choose the OTP flow, the `userInputCode` will be defined and you should include it in the message, directing the user to enter it into the form on the device that started the sign in/up process.
- If you choose the Magic Link flow, then the `urlWithLinkCode` will be defined and you should include it in the message, directing the user to visit it. The user will be signed in on the device that visits the link instead of the one that started the process.
- If both flows are enabled, then you should include both options in the message, since the user can finish the sign in/up process both ways. 
- You can use the `codeLifetime` parameter to tell the user how long they have until the code expires. Do not forget to convert it to seconds (or minutes).
- Both the `preAuthSessionId` and the `context` parameters can be used for advanced customizations that need to fetch data from the database or access something saved earlier in the process.
- Any errors thrown from this function will be ignored.

<BackendSDKTabs>
<TabItem value="nodejs">

```jsx
supertokens.init({
    supertokens: {...},
    appInfo: {...},
    recipeList: [
        ^{recipeNameCapitalLetters}.init({
            // highlight-start
            createAndSendCustomTextMessage: async (input, context) => {
                const {
                    phoneNumber,
                    userInputCode,
                    urlWithLinkCode,
                    codeLifetime,
                    preAuthSessionId,
                } = input;
                // TODO: Send the SMS
            }
            // highlight-end
        }),
        Session.init()
    ]
});
```

</TabItem>
<TabItem value="go">

```go
supertokens.Init(supertokens.TypeInput{
    RecipeList: []supertokens.Recipe{
        ^{codeImportRecipeName}.Init(&^{goModelName}.TypeInput{
            // highlight-start
            CreateAndSendCustomTextMessage: func(phoneNumber string, userInputCode *string, urlWithLinkCode *string, codeLifetime uint64, preAuthSessionId string, userContext supertokens.UserContext)
                // TODO: Send custom SMS
            },
            // highlight-end
        }),
    },
})
```

</TabItem>
<TabItem value="python">

```python
from supertokens_python import init, InputAppInfo, SupertokensConfig
from supertokens_python.recipe import ^{codeImportRecipeName}

# highlight-start
async def func (phoneNumber: str, userInputCode: Union[str, None], urlWithLinkCode: Union[str, None], codeLifetime: int, preAuthSessionId: str, userContext: Union[dict, None]):
    # TODO: Send custom SMS
# highlight-end

init(
    app_info=InputAppInfo(...),
    supertokens_config=SupertokensConfig(...),
    framework='...',
    recipe_list=[
        ^{codeImportRecipeName}.init(
            # highlight-start
            create_and_send_custom_text_message=func
            # highlight-end
        )
    ]
)
```

</TabItem>
</BackendSDKTabs>
