---
id: change-magic-link-url
title: Changing the Magic Link URL
hide_title: true
---

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import TabItem from '@theme/TabItem';

# Changing the Magic Link URL

You can change the URL of Magic Links

<BackendSDKTabs>
<TabItem value="nodejs">

```jsx
SuperTokens.init({
    appInfo: {...},
    supertokens: {...},
    recipeList: [
        Passwordless.init({
            // highlight-start
            override: {
                apis: (originalImplementation) => {
                    return {
                        ...originalImplementation,
                        consumeCodePOST: async (input) => {

                            if (originalImplementation.consumeCodePOST === undefined) {
                                throw Error("Should never come here");
                            }
                            
                            // First we call the original implementation of consumeCodePOST.
                            let response = await originalImplementation.consumeCodePOST(input);

                            // Post sign up response, we check if it was successful
                            if (response.status === "OK") {
                                let { id, email, phoneNumber } = response.user;

                                if (response.createdNewUser) {
                                    // TODO: post sign up logic
                                } else {
                                    // TODO: post sign in logic
                                }
                            }
                            return response;
                        }
                    }
                }
            }
            // highlight-end
        }),
        Session.init({...})
    ]
});
```
</TabItem>
<TabItem value="go">

```go
func main() {

	supertokens.Init(supertokens.TypeInput{
		RecipeList: []supertokens.Recipe{
			passwordless.Init(plessmodels.TypeInput{
                // highlight-start
                Override: &plessmodels.OverrideStruct{
                    APIs: func(originalImplementation plessmodels.APIInterface) plessmodels.APIInterface {

                        // create a copy of the original function
                        originalConsumeCodePOST := originalImplementation.ConsumeCodePOST

                        // override the sign in up API
                        (*originalImplementation.ConsumeCodePOST) = func(userInput *plessmodels.UserInputCodeWithDeviceID, linkCode *string, preAuthSessionID string, options plessmodels.APIOptions, userContext supertokens.UserContext) (plessmodels.ConsumeCodePOSTResponse, error) {

                            // First we call the original implementation of ConsumeCodeUpPOST.
                            response, err := (*originalConsumeCodePOST)(userInput, linkCode, preAuthSessionID, options, userContext)
                            if err != nil {
                                return plessmodels.ConsumeCodePOSTResponse{}, err
                            }

                            if response.OK != nil {
                                // sign in was successful

                                // user object contains the ID and email or phone number
                                user := response.OK.User

                                if response.OK.CreatedNewUser {
                                    // TODO: Post sign up logic
                                } else {
                                    // TODO: Post sign in logic
                                }

                            }
                            return response, nil
                        }

                        return originalImplementation
                    },
                },
                // highlight-end
            })
		},
	})
}
```

</TabItem>
<TabItem value="python">

```python
# python_todo
from supertokens_python import init, InputAppInfo, SupertokensConfig
from supertokens_python.recipe import passwordless

# highlight-start
def override_passwordless_apis(original_implementation):
	original_consume_code_post = original_implementation.consume_code_post

	async def consume_code_post(userInputCode: Union[str, None], deviceId: Union[str, None], preAuthSessionId: str, linkCode: Union[str, None], api_options: APIOptions):
		# First we call the original implementation of consume_code_post.
		response = await original_consume_code_post(provider, code, redirect_uri, auth_code_response, api_options)

        # Post sign up response, we check if it was successful
        if response.is_ok:
            id = response.user.user_id
            email = response.user.email
            phone_number = response.user.phone_number

            if response.created_new_user:
                # TODO: Post sign up logic
            else:
                # TODO: Post sign in logic

        return response
	
	original_implementation.consume_code_post = consume_code_post
	return original_implementation
# highlight-end

init(
    app_info=InputAppInfo(...),
    supertokens_config=SupertokensConfig(...),
    framework='...',
    recipe_list=[
        passwordless.init(
			# highlight-start
            override=passwordless.InputOverrideConfig(
                apis=override_passwordless_apis
            ),
			# highlight-end            
        )
    ]
)
```

</TabItem>
</BackendSDKTabs>