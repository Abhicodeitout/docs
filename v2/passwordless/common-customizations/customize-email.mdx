---
id: customize-email
title: Customising the email sent
hide_title: true
---

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import TabItem from "@theme/TabItem";

# Customising the email sent

## The default emails

- From: no-reply@supertokens.io, but the user will see your app name
- Subject: `Sign in instructions`

### OTP flow
<img width="450px" src="/img/passwordless/otp-email.png" />

### Magic Link flow
<img width="450px" src="/img/passwordless/magic-link-email.png" />

### Both OTP and Magic Link flow
<img width="450px" src="/img/passwordless/otp-and-magic-link-email.png" />

## Send a custom email

:::important
When using this callback, you must send the email yourself.
:::

You can take full control of sending the passwordless sign in/up email by providing the `createAndSendCustomEmail` function during `init` function call:

- You can fully customize the email body, subject and the sender.
- You can get the email address from the `email` parameter.
- If you choose the OTP flow, the `userInputCode` will be defined and you should include it in the email, directing the user to enter it into the form on the device that started the sign in/up process.
- If you choose the Magic Link flow, then the `urlWithLinkCode` will be defined and you should include it in the email, directing the user to visit it. The user will be signed in on the device that visits the link instead of the one that started the process.
- If both flows are enabled, then you should include both options in the message, since the user can finish the sign in/up process both ways. 
- You can use the `codeLifetime` parameter to tell the user how long they have until the code expires. Do not forget to convert it to seconds (or minutes).
- Both the `preAuthSessionId` and the `context` parameters can be used for advanced customizations that need to fetch data from the database or access something saved earlier in the process.
- Any errors thrown from this function will be ignored.

<BackendSDKTabs>
<TabItem value="nodejs">

```jsx
supertokens.init({
    supertokens: {...},
    appInfo: {...},
    recipeList: [
        ^{recipeNameCapitalLetters}.init({
            // highlight-start
            createAndSendCustomEmail: async (input, context) => {
                const {
                    email,
                    userInputCode,
                    urlWithLinkCode,
                    codeLifetime,
                    preAuthSessionId,
                } = input;
                // TODO: Send the email
            }
            // highlight-end
        }),
        Session.init()
    ]
});
```

</TabItem>
<TabItem value="go">

```go
supertokens.Init(supertokens.TypeInput{
    RecipeList: []supertokens.Recipe{
        ^{codeImportRecipeName}.Init(&^{goModelName}.TypeInput{
            // highlight-start
            CreateAndSendCustomEmail: func(email string, userInputCode *string, urlWithLinkCode *string, codeLifetime uint64, preAuthSessionId string, userContext supertokens.UserContext)
                // TODO: Send custom email
            },
            // highlight-end
        }),
    },
})
```

</TabItem>
<TabItem value="python">

```python
# python_todo
from supertokens_python import init, InputAppInfo, SupertokensConfig
from supertokens_python.recipe import ^{codeImportRecipeName}

# highlight-start
async def func (email: str, userInputCode: Union[str, None], urlWithLinkCode: Union[str, None], codeLifetime: int, preAuthSessionId: str, userContext: Union[dict, None]):
    # TODO: Send custom email
# highlight-end

init(
    app_info=InputAppInfo(...),
    supertokens_config=SupertokensConfig(...),
    framework='...',
    recipe_list=[
        ^{codeImportRecipeName}.init(
            # highlight-start
            create_and_send_custom_email=func
            # highlight-end
        )
    ]
)
```

</TabItem>
</BackendSDKTabs>
