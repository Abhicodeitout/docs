---
id: user-creation
title: User Creation
hide_title: true
---

import CoreInjector from "/src/components/coreInjector"

# User Creation


<!-- COPY SECTION -->
<!-- ./passwordless/migration/account-creation/user-creation.mdx -->
<!-- 1 -->

<CoreInjector>

## Passwordless Migration

To migrate a Passwordless user you from your previous authentication provider to SuperTokens, you will first need to generate a code for the user and then call the consume code API.

### Generate passwordless code

**With Email**

```bash
curl -POST -H 'api-key: your_api_key' -H "Content-type: application/json" -d '{ 
  "email": "johndoe@example.com"
}' '^{coreInjector_uri_without_quotes}/recipe/signinup/code'
```

**With Phone Number**

```bash
curl -POST -H 'api-key: your_api_key' -H "Content-type: application/json" -d '{ 
  "phoneNumber": "+14155552671"
}' '^{coreInjector_uri_without_quotes}/recipe/signinup/code'
```

On successfully generating the passwordless code you  should see the following response

```json
{
    "status": "OK",
    "preAuthSessionId": "d3Zpa9eoyV2Wr7uN5DLr6H1clzbwwGTc_0wIIXJT55M=",
    "codeId": "4fe93f8e-a5da-4588-82e2-314c6993b345",
    "deviceId": "+cWm1Y2EFxEPyHM7CAwYyAdkakBeoEDm6IOGT3xfa1U=",
    "userInputCode": "463152",
    "linkCode": "UlEb3-gbIYow61ce6RNzghkGN8qcHkpRwbhHbvMEjxY=",
    "timeCreated": 1664283193059,
    "codeLifetime": 900000
}
```

### Consume the passwordless code to create the passwordless user

Retrieve the `preAuthSessionId` and `linkCode` from the previous response as request body parameters for the consume code request.

```bash
curl -XPOST -H "Content-type: application/json" -d '{
 "preAuthSessionId": "YSo1pkQ6M1csYDY-fQWqhm6H72ZjcG4xJhhP44u29nc=",
 "linkCode": "XdPp6xaaI3cEQ8KQlNXHpRHH0T9TaOb_ruskv2mRviU="
}' '^{coreInjector_uri_without_quotes}/recipe/signinup/code/consume'
```

</CoreInjector>

<!-- END COPY SECTION -->