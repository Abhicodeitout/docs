---
id: core-logic
title: Core Logic
hide_title: true
---

# Core Logic

- 1) If an API spans across recipes (like get user count or delete user), those should not have a `/recipe` prefix, and should go in the [`Storage.java` interface](https://github.com/supertokens/supertokens-plugin-interface/blob/master/src/main/java/io/supertokens/pluginInterface/Storage.java).
- 2) Wherever possible, plugin interface user objects should be directly sent as API response. If you want to hide a property from a response, use the `transient` keyword like `public transient final String passwordHash;`
- 3) APIs in core can interact with other recipes - as long as if the backend SDK repeats certain operations, it's ok. For example, in thirdparty sign up, we also mark the email as verified in the core. We should do the same explicitly in the backend SDK post sign up as well (i.e. call emailVerify recipe function in the backend API). This has two benefits:
   - a) If a user is calling just the signUp core function manually, then email verificaiton will be marked as true (based on the input), without any extra function calls.
   - b) If a user has overriden the impl of email verification entirely, then our backend API will call that function as well - the core will have this as marked true too, but that is OK as it is ignored).
- 4) About input validation:
   - a) User input (like email / password / name etc..) should not be validated in the core, and only in the backend SDK. This is because we provide methods in the backend SDK to override how validation for user facing input works, and if a custom validator is provided, that will not be reflected in the core - which might cause issues.
   - b) Input that is generated by the core (like access tokens, UUIDs for auth recipes etc..) can be validated - since the validation logic for those cannot be modified by the user.
- 5) About input normalization: If the input is a user defined input (like email, name etc), those need to be normalized in the backend SDK level, inside the recipe functions. This is because we should allow the developer to override how normalization works. See (12) in [this page](../backend)