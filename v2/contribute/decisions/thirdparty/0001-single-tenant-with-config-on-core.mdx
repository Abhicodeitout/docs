---
id: "0001"
title: Loading dynamic providers list on the frontend
hide_title: true
---

import DecisionHeader from "/src/components/decisionLogs/DecisionHeader"
import ArgumentPro from "/src/components/decisionLogs/ArgumentPro"
import ArgumentCon from "/src/components/decisionLogs/ArgumentCon"
import ArgumentNeut from "/src/components/decisionLogs/ArgumentNeut"

# Loading dynamic providers list on the frontend

<DecisionHeader status="proposed" lastUpdate="2022-12-07" created="2022-12-07" deciders={["rishabhpoddar", "sattvikc"]} proposedBy={["sattvikc"]} />

## Context and Problem Statement

How does the user enable this feature

Considering the following use cases:

1. Single Tenant & Static Config

   Frontend does not need dynamic provider list in this case

2. Single Tenant & Dynamic Config

   Frontend needs to show the dynamic providers list from backend

3. Multi Tenant & Static Config

   Not a common use case. Generally, each tenant would have it's own dynamic config.

4. Multi Tenant & Dynamic Config

   Frontend needs to show the dynamic providers list from backend

## Considered Options

* Based on the Multitenancy.init()
* Always use dynamic provider list
* Add `usesDynamicLoginMethods` config to the top level config


## Decision Outcome

Chosen option: **Add `usesDynamicLoginMethods` config to the top level config**, because

* Clearly indicates that the dynamic providers list is being used
* Avoids call to backend if the user does not intend to use dynamic providers list

Also, `usesDynamicLoginMethods` is added as a toplevel config instead of thirdparty recipe, as this functionality will be expanded to other recipes in future.

We also implicitly perform Multitenancy.init() if this flag is enabled, as the dynamic config will be provided by the Multitenancy recipe.

** Single Tenant, dynamic config **

Frontend is initialized with `usesDynamicLoginMethods` set to `true`. This will make an implicit Multitenancy.init() and the recipes will load the config from the Multitenancy recipe.

** Multi Tenant, dynamic config **

Frontend is initialized with `usesDynamicLoginMethods` set to `true`, and Multitenancy.init() with a config to get tenantId. The auth recipes will use the Multitenancy recipe to get the dynamically loaded config.

## Pros and Cons of the Options

### Based on Multitenancy.init()

<ArgumentPro> No additional config </ArgumentPro>
<ArgumentCon> Unintutive to call `Multitenancy.init()` to enable dynamic config </ArgumentCon>
<ArgumentCon> From the user's point of view, it doesn't make sense to call `Multitenancy.init()` for a single tenant </ArgumentCon>

### Always use dynamic provider list

<ArgumentPro> No extra config needed by the user </ArgumentPro>
<ArgumentCon> Ends up calling the backend API even if the static provider list is enough </ArgumentCon>

### Add `enableDynamicProviders` config to the thirdparty recipe

<ArgumentPro> Backend API will be called only when the feature is enabled </ArgumentPro>
<ArgumentPro> Clearly indicates that the dynamic providers list is being used </ArgumentPro>
<ArgumentCon> In case of multi-tenancy, even though it's most common to use dynamic provider list, user has to enable this to avail that functionality </ArgumentCon>
