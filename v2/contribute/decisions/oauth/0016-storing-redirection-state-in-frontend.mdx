---
id: "0016"
title: Use localstorage to store redirection state
hide_title: true
---

import DecisionHeader from "/src/components/decisionLogs/DecisionHeader"
import ArgumentPro from "/src/components/decisionLogs/ArgumentPro"
import ArgumentCon from "/src/components/decisionLogs/ArgumentCon"
import ArgumentNeut from "/src/components/decisionLogs/ArgumentNeut"

# Use localstorage to store redirection state

<DecisionHeader status="proposed" lastUpdate="2023-05-11" created="2023-05-11" deciders={["rishabhpoddar", "porcellus"]} proposedBy={["porcellus"]} />

## Context and Problem Statement

We have to store the state and other info required for a successfull redirection in the frontend, because the sign-in process could take multiple steps.

## Considered Options

* Use localstorage
* Use sessionstorage
* Use cookies

## Decision Outcome

Chosen option: Use localstorage

* Not sent to the backend
* Does not require changing any other recipes

In the future we can:
* Modify other recipes to tell the user if the current login is a part of an OAuth2 sign-in.
* Modify other recipes to make sure the original tab is the one redirecting back to the client.
* Create a better UX for these kinds of flows.

## Pros and Cons of the Options

### Use localstorage

<ArgumentPro> Not sent to the backend </ArgumentPro>

### Use sessionstorage

<ArgumentPro> Not sent to the backend </ArgumentPro>
<ArgumentCon> Requires changing other recipes (detect session created/validation success in other tabs + UX changes to redirect to the tab) </ArgumentCon>

### Use cookies

<ArgumentCon> Unnecessarily sent to the backend </ArgumentCon>
<ArgumentCon> Bit more complex </ArgumentCon>
<ArgumentCon> No security benefits </ArgumentCon>
