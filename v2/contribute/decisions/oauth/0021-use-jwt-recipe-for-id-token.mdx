---
id: "0021"
title: Use the JWT recipe to create id-tokens
hide_title: true
---

import DecisionHeader from "/src/components/decisionLogs/DecisionHeader"
import ArgumentPro from "/src/components/decisionLogs/ArgumentPro"
import ArgumentCon from "/src/components/decisionLogs/ArgumentCon"
import ArgumentNeut from "/src/components/decisionLogs/ArgumentNeut"

# Use the JWT recipe to create id-tokens

<DecisionHeader status="proposed" lastUpdate="2023-05-11" created="2023-05-11" deciders={["rishabhpoddar", "porcellus"]} proposedBy={["porcellus"]} />

## Context and Problem Statement

We need to create id tokens

## Considered Options

* Add them into oauth2 endpoints
* Add a specific id token endpoint into oauth2
* Use the existing JWT recipe

## Decision Outcome

Chosen option: Use the existing JWT recipe

* Simplifies the OAuth2 recipe
* There is nothing we need to validate/store about the id tokens
* The overhead of multiple calls should be OK, since these are not often used operations + calls to the Core should be very quick

## Pros and Cons of the Options

### Add them into oauth2 endpoints

<ArgumentPro> No new endpoint needed </ArgumentPro>
<ArgumentPro> Single request call for each operation </ArgumentPro>
<ArgumentCon> Bloats the response of those endpoints </ArgumentCon>

### Add a specific id token endpoint into oauth2

<ArgumentPro> No response body bloat </ArgumentPro>
<ArgumentCon> Requires adding a new endpoint </ArgumentCon>
<ArgumentCon> Multiple request calls per operation </ArgumentCon>

### Use the existing JWT recipe

<ArgumentPro> No response body bloat </ArgumentPro>
<ArgumentPro> No new endpoint needed </ArgumentPro>
<ArgumentPro> Simplifies the new recipe </ArgumentPro>
<ArgumentCon> Multiple request calls per operation </ArgumentCon>
