---
id: "0004"
title: How to attach the auth mode preference to requests
hide_title: true
---

import DecisionHeader from "/src/components/decisionLogs/DecisionHeader"
import ArgumentPro from "/src/components/decisionLogs/ArgumentPro"
import ArgumentCon from "/src/components/decisionLogs/ArgumentCon"
import ArgumentNeut from "/src/components/decisionLogs/ArgumentNeut"

# How to attach the auth mode preference to requests

<DecisionHeader status="proposed" lastUpdate="2022-10-25" created="2022-10-25" deciders={["rishabhpoddar", "porcellus"]} proposedBy={["porcellus"]} />

## Context and Problem Statement

We have to add the auth method choice (header or cookies) to requests.

## Considered Options

* Reuse the `rid` header
* New header
* Cookie

## Decision Outcome

New header: `st-auth-method` values: `header | cookie`

## Pros and Cons of the Options

### Reuse the `rid`

<ArgumentPro> No new config </ArgumentPro>
<ArgumentCon> Harder to communicate </ArgumentCon>
<ArgumentCon> The naming can be confusing </ArgumentCon>

### New header

<ArgumentCon> May require addition config/changing existing configs (e.g.: AWS, cors in some cases) </ArgumentCon>
<ArgumentPro> Easy to explain </ArgumentPro>
<ArgumentPro> Simple </ArgumentPro>

### Cookie

<ArgumentCon> We can't use cookies in all situations </ArgumentCon>
<ArgumentCon> Harder to use manually </ArgumentCon>