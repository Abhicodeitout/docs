---
id: "0019"
title: Optional session verification should propagate TRY_REFRESH_TOKEN errors
hide_title: true
---

import DecisionHeader from "/src/components/decisionLogs/DecisionHeader"
import ArgumentPro from "/src/components/decisionLogs/ArgumentPro"
import ArgumentCon from "/src/components/decisionLogs/ArgumentCon"
import ArgumentNeut from "/src/components/decisionLogs/ArgumentNeut"

# Optional session verification should propagate TRY_REFRESH_TOKEN errors

<DecisionHeader status="proposed" lastUpdate="2022-11-22" created="2022-11-22" deciders={["rishabhpoddar", "porcellus"]} proposedBy={["porcellus"]} />

## Context and Problem Statement

`verifySession` depends on the value of `rid` and the method to decide if it should propagate `TRY_REFRESH_TOKEN` errors when the access token expired.
Related issue: https://github.com/supertokens/supertokens-node/issues/156

## Considered Options

* Not propagate error
* Asking people to catch and handle the TRY_REFRESH_TOKEN error

## Decision Outcome

Optional session verification should propagate TRY_REFRESH_TOKEN errors. Reasons:
- Easier to communicate
- The `rid` header affecting if the `TRY_REFRESH_TOKEN` could be unexpected by users
- The `rid` header would be missing in most cases when testing using Postman. It's confusing if that works different from making the same requests through the SDK.
