---
id: "0016"
title: Store tokens (access and refresh) in cookies in header based auth mode
hide_title: true
---

import DecisionHeader from "/src/components/decisionLogs/DecisionHeader"
import ArgumentPro from "/src/components/decisionLogs/ArgumentPro"
import ArgumentCon from "/src/components/decisionLogs/ArgumentCon"
import ArgumentNeut from "/src/components/decisionLogs/ArgumentNeut"

# Store tokens (access and refresh) in cookies in header based auth mode

<DecisionHeader status="proposed" lastUpdate="2022-10-25" created="2022-10-25" deciders={["rishabhpoddar", "porcellus"]} proposedBy={["porcellus"]} />

## Context and Problem Statement

In header based auth mode we have to decide where to store our tokens on the frontend.

## Considered Options

* Cookies
* Localstorage (or other similar)

## Decision Outcome

Use cookies, the disadvantage of no sharing between subdomains is huge.

## Pros and Cons of the Options

### Cookies

<ArgumentPro> Consistent with front-token </ArgumentPro>
<ArgumentPro> Overriding all token storage can be done by just overriding cookies </ArgumentPro>
<ArgumentCon> Sent to the frontend server (minor) </ArgumentCon>
<ArgumentNeut> Cleared in Safari after 7 days of inactivity <a href="https://webkit.org/blog/10218/full-third-party-cookie-blocking-and-more/">(Source)</a></ArgumentNeut>

### Local storage

<ArgumentPro> Very simple & easy to override </ArgumentPro>
<ArgumentCon> During development removing a session would require clearing both localstorage and cookies </ArgumentCon>
<ArgumentCon> No way of sharing between subdomains </ArgumentCon>
<ArgumentCon> Inconsistent or requires changing the front-token storage </ArgumentCon>
<ArgumentNeut> Cleared in Safari after 7 days of inactivity <a href="https://webkit.org/blog/10218/full-third-party-cookie-blocking-and-more/">(Source)</a></ArgumentNeut>
