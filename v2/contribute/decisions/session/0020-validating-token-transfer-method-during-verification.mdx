---
id: "0019"
title: Optional session verification should re-throw TRY_REFRESH_TOKEN errors
hide_title: true
---

import DecisionHeader from "/src/components/decisionLogs/DecisionHeader"
import ArgumentPro from "/src/components/decisionLogs/ArgumentPro"
import ArgumentCon from "/src/components/decisionLogs/ArgumentCon"
import ArgumentNeut from "/src/components/decisionLogs/ArgumentNeut"

# Optional session verification should re-throw TRY_REFRESH_TOKEN errors

<DecisionHeader status="proposed" lastUpdate="2022-11-24" created="2022-11-24" deciders={["rishabhpoddar", "porcellus"]} proposedBy={["porcellus"]} />

## Context and Problem Statement

We want devs to be able to be able to specifically allow/disallow a token transfer method in `verifySession` and `refreshSession`. E.g.: A web only application wants to only ever want to use cookie based sessions (and httpOnly cookies), so they want to disable header based sessions.

## Considered Options

* Re-use `getTokenTransferMethod`
* Add a new `allowTokenTransferMethod`

## Decision Outcome

Re-use `getTokenTransferMethod`. Reasons:
- Single function override if someone wants to only allow/use a single tokenTransferMethod

## Pros and Cons of the Options

### Re-use `getTokenTransferMethod`

<ArgumentPro> Single configuration if you want to only allow a single token transfer method </ArgumentPro>

### Add a new `allowTokenTransferMethod`

<ArgumentPro> Very verbose and specific, making it easy to explain </ArgumentPro>
<ArgumentCon> If you only want to allow a single token transfer method you'd have to override `getTokenTransferMethod` anyway </ArgumentCon>
