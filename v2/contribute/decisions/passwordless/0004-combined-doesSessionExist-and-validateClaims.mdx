---
id: "0004"
title: Combine doesSessionExist and validateClaims into a single function
hide_title: true
---

import DecisionHeader from "/src/components/decisionLogs/DecisionHeader"
import ArgumentPro from "/src/components/decisionLogs/ArgumentPro"
import ArgumentCon from "/src/components/decisionLogs/ArgumentCon"
import ArgumentNeut from "/src/components/decisionLogs/ArgumentNeut"

# Combine doesSessionExist and validateClaims into a single function

<DecisionHeader status="proposed" lastUpdate="2022-11-28" created="2022-11-28" deciders={["rishabhpoddar", "porcellus"]} proposedBy={["porcellus"]} />

## Context and Problem Statement

Apps have to call both `doesSessionExist` and `validateClaims` to completely check if the user should access a page. We want to make this simpler.

## Considered Options

* More documentation
* Add function that combines both calls

## Decision Outcome

Add a combined function (`hasAccess`):
- new function to web-js that combines doesSessionExists and validateClaims
- no redirection
- Returns: `{ hasAccess: true } | {hasAccess: false, invalidClaims: [], sessionExists: boolean}`

Reasons:
- A separate `validateClaims` is just too easy to forget.
