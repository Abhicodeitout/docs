---
id: enabling-jwts
title: Enable JWTs with sessions
hide_title: true
---

<!-- COPY DOCS -->
<!-- ./session/common-customizations/sessions/with-jwt/enabling-jwts.mdx -->

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs"
import TabItem from '@theme/TabItem';
import BackendSDKCasing from "/src/components/BackendSDKCasing"

# Enable JWTs with sessions

### Enable JWT feature

<BackendSDKTabs>
<TabItem value="nodejs">

```jsx
let SuperTokens = require("supertokens-node");
let Session = require("supertokens-node/recipe/session");

SuperTokens.init({
    supertokens: {...},
    appInfo: {...},
    recipeList: [
        Session.init({
            //highlight-start
            jwt: {
                enable: true,
            },
            //highlight-end
        })
    ]
});
```
</TabItem>
<TabItem value="go">

```go
WIP
```
</TabItem>
<TabItem value="python">

```python
WIP
```

</TabItem>
</BackendSDKTabs>

:::info
Enabling this feature adds a JWT to the access token payload which can be accessed both on the frontend and the backend
:::

### Using a custom issuer

By default SuperTokens uses your <BackendSDKCasing>apiDomain</BackendSDKCasing>, <BackendSDKCasing>apiGatewayPath</BackendSDKCasing> and <BackendSDKCasing>apiBasePath</BackendSDKCasing> for the issuer URL. You can provide a custom URL for the issuer:

<BackendSDKTabs>
<TabItem value="nodejs">

```jsx
let SuperTokens = require("supertokens-node");
let Session = require("supertokens-node/recipe/session");

SuperTokens.init({
    supertokens: {...},
    appInfo: {...},
    recipeList: [
        Session.init({
            //highlight-start
            jwt: {
                enable: true,
                issuer: "https://api.test.com/auth",
            },
            //highlight-end
        })
    ]
});
```
</TabItem>
<TabItem value="go">

```go
WIP
```
</TabItem>
<TabItem value="python">

```python
WIP
```

</TabItem>
</BackendSDKTabs>

:::caution
Custom issuer URLs must end with your <BackendSDKCasing>apiBasePath</BackendSDKCasing>, this is because some services rely on the issuer when fetching public keys (provided by SuperTokens APIs) for JWT verification.
:::

### Using a custom key in the access token payload

By default SuperTokens stores the token as `jwt` in the access token payload, an example payload would be
```typescript
{
    userId: string,
    jwt: string,
}
```

You can use a custom key name when initialising the Session recipe:

<BackendSDKTabs>

<TabItem value="nodejs">

```jsx
let SuperTokens = require("supertokens-node");
let Session = require("supertokens-node/recipe/session");

SuperTokens.init({
    supertokens: {...},
    appInfo: {...},
    recipeList: [
        Session.init({
            //highlight-start
            jwt: {
                enable: true,
                propertyNameInAccessTokenPayload: "token",
            },
            //highlight-end
        })
    ]
});
```
</TabItem>
<TabItem value="go">

```go
WIP
```
</TabItem>
<TabItem value="python">

```python
WIP
```

</TabItem>
</BackendSDKTabs>

The payload would now be:

```typescript
{
    userId: string,
    token: string,
}
```
