---
sidebar_position: 1
title: Managing roles and users
hide_title: true
---

<!-- COPY DOCS -->
<!-- ./userroles/managing-roles-and-users.mdx -->

# Managing roles and users

With the UserRoles recipe you can:
- Assign roles to users
- Remove roles from users
- Get a list of all roles assigned to a specific user
- Get a list of all users that are assigned a specific role

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import TabItem from '@theme/TabItem';

## Assign roles to a user

You can assign roles to users before hand or immediately after they sign up. *The role must be created before you can assign it.*

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import UserRoles from "supertokens-node/recipe/userroles";

async function addRoleToUser(userId: string) {
    // highlight-start
    const response = await UserRoles.addRoleToUser(userId, "user");

    if (response.status === "UNKNOWN_ROLE_ERROR") {
        // No such role exists
        return;
    }

    if (response.didUserAlreadyHaveRole === true) {
        // The user already had the role
    }
    // highlight-end
}
```

</TabItem>
<TabItem value="go">
TODO
</TabItem>
<TabItem value="python">
TODO
</TabItem>
</BackendSDKTabs>

## Remove role from a user

You can remove roles from a user, the role you provide will be removed only if the user was assigned that role.

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import UserRoles from "supertokens-node/recipe/userroles";

async function removeRoleFromUser(userId: string) {
    // highlight-start
    const response = await UserRoles.removeUserRole(userId, "user");

    if (response.status === "UNKNOWN_ROLE_ERROR") {
        // No such role exists
        return;
    }

    if (response.didUserHaveRole === true) {
        // The user was never assigned the role
    }
    // highlight-end
}
```

</TabItem>
<TabItem value="go">
TODO
</TabItem>
<TabItem value="python">
TODO
</TabItem>
</BackendSDKTabs>

## Get all roles for a user

You can get a list of all roles that were assigned to a specific user.

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import UserRoles from "supertokens-node/recipe/userroles";

async function getRolesForUser(userId: string) {
    // highlight-start
    const response = await UserRoles.getRolesForUser(userId);
    const roles: string[] = response.roles;
    // highlight-end
}
```

</TabItem>
<TabItem value="go">
TODO
</TabItem>
<TabItem value="python">
TODO
</TabItem>
</BackendSDKTabs>

## Get all users that have a role

You can get a list of all users that were assigned a specific role, the `getRolesForUser` returns a list of user ids.

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import UserRoles from "supertokens-node/recipe/userroles";

async function getUsersThatHaveRole(role: string) {
    // highlight-start
    const response = await UserRoles.getUsersThatHaveRole(role);

    if (response.status === "UNKNOWN_ROLE_ERROR") {
        // No such role exists
        return;
    }

    const users: string[] = response.users;
    // highlight-end
}
```

</TabItem>
<TabItem value="go">
TODO
</TabItem>
<TabItem value="python">
TODO
</TabItem>
</BackendSDKTabs>