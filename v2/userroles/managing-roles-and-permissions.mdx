---
sidebar_position: 1
title: Managing roles and permissions
hide_title: true
---

<!-- COPY DOCS -->
<!-- ./userroles/managing-roles-and-permissions.mdx -->

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import TabItem from '@theme/TabItem';

## Managing permissions for a role

With the UserRoles recipe you can:
- Add permissions to a role
- Remove permissions from a role
- Get a list of all permissions assigned to a role
- Get a list of all roles that have a specific permission

### Add permissions

The `createNewRoleOrAddPermissions` can be used to add new permissions to a role. This function only adds missing permissions to a role and will not have any effect on permissions that are already assigned to a role.

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import UserRoles from "supertokens-node/recipe/userroles";

async function addPermissionForRole() {
    // highlight-start
    // Add the write permission to the user role
    await UserRoles.createNewRoleOrAddPermissions("user", ["write"]);
    // highlight-end
}
```

</TabItem>
<TabItem value="go">
TODO
</TabItem>
<TabItem value="python">
TODO
</TabItem>
</BackendSDKTabs>

### Remove permissions

You can remove one or more permissions from a role, the role must be created before using this function.

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import UserRoles from "supertokens-node/recipe/userroles";

async function removePermissionFromRole() {
    // highlight-start
    // Remove the write permission to the user role
    const response = await UserRoles.removePermissionsFromRole("user", ["write"]);

    if (response.status === "UNKNOWN_ROLE_ERROR") {
        // No such role exists
    }
    // highlight-end
}
```

</TabItem>
<TabItem value="go">
TODO
</TabItem>
<TabItem value="python">
TODO
</TabItem>
</BackendSDKTabs>

### Get all permissions for a role

Get a list of all permissions assigned to a role

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import UserRoles from "supertokens-node/recipe/userroles";

async function getPermissionsForRole() {
    // highlight-start
    const response = await UserRoles.getPermissionsForRole("user");

    if (response.status === "UNKNOWN_ROLE_ERROR") {
        // No such role exists
        return;
    }

    const permissions: string[] = response.permissions;
    // highlight-end
}
```

</TabItem>
<TabItem value="go">
TODO
</TabItem>
<TabItem value="python">
TODO
</TabItem>
</BackendSDKTabs>

### Get all roles that have a permission

Get a list of all roles that have been assigned a specific permission

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import UserRoles from "supertokens-node/recipe/userroles";

async function getRolesWithPermission() {
    // highlight-start
    const response = await UserRoles.getRolesThatHavePermission("write");
    const roles: string[] = response.roles;
    // highlight-end
}
```

</TabItem>
<TabItem value="go">
TODO
</TabItem>
<TabItem value="python">
TODO
</TabItem>
</BackendSDKTabs>